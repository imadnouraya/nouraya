(function(){
    function get_json(url) {
        return new Promise((res, rej) => {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', url , false);
            xhr.onreadystatechange = function () {
                if (this.readyState !== 4) return;

                if(this.status === 200){
                    res(JSON.parse(this.responseText));
                }else{
                    rej(this.statusText);
                }
            };
            xhr.send();
        });
    }

    let origin = window.location.hostname,
        path = window.location.pathname,
        event = new Event('site_loading');

    if(origin === 'localhost'){
        origin = './';
    }

    console.time('Load page info');
    var map = JSON.parse('{"logo": {"show": true}, "token": "180e2f54-8abf-4906-955c-544093fcbdc4", "map": {"/": {"title": "Home", "show": true, "id": 38256, "inner": 0}}}');
    var r = {"site":{"colsBG":6,"rows":25,"groups":{},"logo":true,"canvas":[{"sizeY":2,"type":4,"sizeX":2,"data":{"version":3,"link":"imadnouraya","layer":1,"changed":true,"gradient":{"active":false,"color1":"#202020","color2":"#000000","direction":"top"},"url":"","zIndex":13,"name":"Instagram","block":{"margin":{"width":{"bottom":0,"right":0,"left":0,"top":0}},"border":{"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0},"outer":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"opacity":100,"newSizes":true,"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0}},"inner":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"newSizes":true,"opacity":100}},"background":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"image":"","type":"1","hasAsset":false,"owrBackground":14},"contentOrientation":0,"opacity":100},"shadow":false},"posX":6,"posY":23,"id":627536},{"sizeY":2,"type":4,"sizeX":2,"data":{"version":3,"link":"imednouraya@gmail.com","layer":1,"changed":false,"gradient":{"active":false,"color1":"#202020","color2":"#000000","direction":"top"},"url":"","zIndex":11,"name":"Email","block":{"margin":{"width":{"bottom":0,"right":0,"left":0,"top":0}},"border":{"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0},"outer":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"opacity":100,"newSizes":true,"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0}},"inner":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"newSizes":true,"opacity":100}},"background":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"image":"","type":"1","hasAsset":false,"owrBackground":14},"contentOrientation":0,"opacity":100},"shadow":false},"posX":2,"posY":23,"id":627534},{"sizeY":2,"type":4,"sizeX":2,"data":{"version":3,"link":"imad.nouraya","layer":1,"changed":true,"gradient":{"active":false,"color1":"#202020","color2":"#000000","direction":"top"},"url":"","zIndex":12,"name":"Facebook","block":{"margin":{"width":{"bottom":0,"right":0,"left":0,"top":0}},"border":{"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0},"outer":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"opacity":100,"newSizes":true,"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0}},"inner":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"newSizes":true,"opacity":100}},"background":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"image":"","type":"1","hasAsset":false,"owrBackground":14},"contentOrientation":0,"opacity":100},"shadow":false},"posX":4,"posY":23,"id":627535},{"sizeY":2,"type":1,"sizeX":5,"data":{"version":5,"link":{"url":"","type":0,"form":{"receiver":"","phone":1,"email":2,"notifications":true,"name":2,"comment":1},"pageID":0},"font":{"lineThrough":false,"underline":false,"size":23,"bold":false,"color":"#FFFFFF","name":"PermanentMarker","italic":false,"shadow":false},"changed":false,"hasPadding":true,"text":"Web developer","zIndex":19,"symlink":{"push":["link","form","notifications"],"email":["link","form","receiver"]},"block":{"margin":{"width":{"bottom":0,"right":0,"left":0,"top":0}},"border":{"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0},"outer":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"opacity":100,"newSizes":true,"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0}},"inner":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"newSizes":true,"opacity":100}},"background":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"image":"","type":"1","hasAsset":false,"owrBackground":14},"contentOrientation":0,"opacity":100},"align":{"vertical":"center","horizontal":"left"},"layer":1},"posX":4,"posY":1,"id":627542},{"sizeY":5,"type":1,"sizeX":8,"data":{"version":5,"link":{"url":"","type":0,"form":{"receiver":"","phone":1,"email":2,"notifications":true,"name":2,"comment":1},"pageID":0},"font":{"lineThrough":false,"underline":false,"size":20,"bold":false,"color":"#202020","name":"Coustard","italic":false,"shadow":false},"changed":false,"hasPadding":true,"text":"HI, Iâ€™m Imad Nouraya.\nI am a Algerian based developer specialized in web development and web design.","zIndex":15,"symlink":{"push":["link","form","notifications"],"email":["link","form","receiver"]},"block":{"margin":{"width":{"bottom":0,"right":0,"left":0,"top":0}},"border":{"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0},"outer":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"opacity":100,"newSizes":true,"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0}},"inner":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"newSizes":true,"opacity":100}},"background":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"image":"","type":"1","hasAsset":false,"owrBackground":14},"contentOrientation":0,"opacity":100},"align":{"vertical":"top","horizontal":"center"},"layer":1},"posX":1,"posY":18,"id":627538},{"sizeY":2,"type":1,"sizeX":8,"data":{"version":5,"link":{"url":"","type":0,"form":{"receiver":"","phone":1,"email":2,"notifications":true,"name":2,"comment":1},"pageID":0},"font":{"lineThrough":false,"underline":false,"size":27,"bold":false,"color":"#000000","name":"Coustard","italic":false,"shadow":false},"changed":false,"hasPadding":true,"text":"About me","zIndex":14,"symlink":{"push":["link","form","notifications"],"email":["link","form","receiver"]},"block":{"margin":{"width":{"bottom":0,"right":0,"left":0,"top":0}},"border":{"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0},"outer":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"opacity":100,"newSizes":true,"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0}},"inner":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"newSizes":true,"opacity":100}},"background":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"image":"","type":"1","hasAsset":false,"owrBackground":14},"contentOrientation":0,"opacity":100},"align":{"vertical":"center","horizontal":"center"},"layer":1},"posX":1,"posY":16,"id":627537},{"sizeY":2,"type":1,"sizeX":10,"data":{"version":5,"link":{"url":"","type":0,"form":{"receiver":"","phone":1,"email":2,"notifications":true,"name":2,"comment":1},"pageID":0},"font":{"lineThrough":false,"underline":false,"size":39,"bold":false,"color":"#FFFFFF","name":"PermanentMarker","italic":false,"shadow":true},"changed":false,"hasPadding":true,"text":"Imad nouraya","zIndex":17,"symlink":{"push":["link","form","notifications"],"email":["link","form","receiver"]},"block":{"margin":{"width":{"bottom":0,"right":0,"left":0,"top":0}},"border":{"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0},"outer":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"opacity":100,"newSizes":true,"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0}},"inner":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"newSizes":true,"opacity":100}},"background":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"image":"","type":"1","hasAsset":false,"owrBackground":14},"contentOrientation":0,"opacity":100},"align":{"vertical":"top","horizontal":"center"},"layer":1},"posX":0,"posY":12,"id":627540},{"sizeY":4,"type":2,"sizeX":3,"data":{"settings":{"scale":1,"mirror":false,"lastUserScale":1,"rotate":0,"position":{"x":0,"y":0}},"workSize":{"width":96,"left":0,"height":128,"top":0},"layer":1,"changed":false,"image":"85660592-6540-4b2b-9d18-ca604659100d","zIndex":18,"block":{"margin":{"width":{"bottom":0,"right":0,"left":0,"top":0}},"border":{"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0},"outer":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"opacity":100,"newSizes":true,"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0}},"inner":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"newSizes":true,"opacity":100}},"background":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"image":"","type":"1","hasAsset":false,"owrBackground":14},"contentOrientation":0,"opacity":100},"version":5,"link":{"url":"","type":0,"form":{"receiver":"","phone":1,"email":2,"notifications":true,"name":2,"comment":1},"pageID":0},"size":{"width":800,"height":1001},"imageID":"","symlink":{"push":["link","form","notifications"],"email":["link","form","receiver"]},"hasAsset":false,"workPosition":{"width":102.2977022977023,"left":-3.1488511488511506,"height":128,"top":0},"repeat":false},"posX":1,"posY":0,"id":627541},{"sizeY":0,"type":3,"sizeX":0,"data":{"version":3,"owrBackground":14,"type":1,"layer":1,"changed":false,"gradient":{"active":false,"color1":"#DACAB9","color2":"#000000","direction":"top"},"image":"","hasAsset":false,"zIndex":16,"repeat":false},"posX":0,"posY":0,"id":627539},{"sizeY":1,"type":1,"sizeX":4,"data":{"version":5,"link":{"url":"","type":2,"form":{"receiver":"imednouraya@gmail.com","phone":0,"email":0,"notifications":true,"name":2,"comment":2},"pageID":0},"font":{"lineThrough":false,"underline":false,"size":12,"bold":false,"color":"#FFFFFF","name":"Coustard","italic":false,"shadow":false},"changed":false,"hasPadding":true,"text":"CONTACT ME","zIndex":5,"symlink":{"push":["link","form","notifications"],"email":["link","form","receiver"]},"block":{"margin":{"width":{"bottom":0,"right":0,"left":0,"top":0}},"border":{"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0},"outer":{"gradient":{"active":false,"color1":"#FFFFFF","color2":"transparent","direction":"top"},"width":{"bottom":4,"right":4,"left":4,"top":4},"opacity":100,"newSizes":true,"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0}},"inner":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"newSizes":true,"opacity":100}},"background":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"image":"","type":"1","hasAsset":false,"owrBackground":14},"contentOrientation":0,"opacity":100},"align":{"vertical":"center","horizontal":"center"},"layer":1},"posX":3,"posY":14,"id":627532},{"sizeY":15,"type":2,"sizeX":8,"data":{"settings":{"scale":1,"mirror":false,"changed":false,"position":{"x":0,"y":0},"lastUserScale":1,"rotate":0},"workSize":{"width":256,"left":0,"height":480,"top":0},"layer":0,"changed":true,"block":{"margin":{"width":{"bottom":0,"right":0,"left":0,"top":0}},"border":{"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0},"outer":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"opacity":100,"newSizes":true,"radius":{"bottomRight":0,"topLeft":0,"bottomLeft":0,"topRight":0}},"inner":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"width":{"bottom":0,"right":0,"left":0,"top":0},"newSizes":true,"opacity":100}},"background":{"gradient":{"active":false,"color1":"transparent","color2":"transparent","direction":"top"},"image":"","type":"1","hasAsset":false,"owrBackground":14},"contentOrientation":0,"opacity":100},"image":"874e4e31-886d-4b21-af1f-0c36d9c8a588","zIndex":4,"cropped":"51d50d9f-d890-4386-a6eb-4a1829a9ee88","version":5,"link":{"url":"","type":0,"form":{"receiver":"","phone":1,"email":2,"notifications":true,"name":2,"comment":1},"pageID":0},"size":{"width":640,"height":962},"imageID":"","symlink":{"push":["link","form","notifications"],"email":["link","form","receiver"]},"hasAsset":false,"workPosition":{"width":319.33471933471935,"left":-31.667359667359676,"height":480,"top":0},"repeat":false},"posX":1,"posY":1,"id":627531}],"cols":10,"rowsBG":8}};
    console.timeEnd('Load page info');
    window.SITE = {
        id: map["map"]["/"]["id"],
        path: path,
        origin: origin,
        data: r,
        logo: map["logo"],
        map: map["map"],
        token: map["token"]
    };
    document.dispatchEvent(event);

    console.time('Load React script');
    console.time('Total loading time');
})();